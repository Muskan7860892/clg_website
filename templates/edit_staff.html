{% extends "staff.html" %}
{% block content %}
<h2>Edit Supporting Staff</h2>
<form method="POST" action="{{ url_for('edit_staff', id=staff.id, query=request.args.get('query', '')) }}" enctype="multipart/form-data">
  <label for="staff_name">Name:</label>
  <input type="text" id="staff_name" name="staff_name" value="{{ staff.staff_name }}" required><br>
  <label>Staff ID:</label>
  <input type="text" name="staff_id" value="{{ staff.staff_id }}" required>
  {% if error_message %}
  <span style="color: red;">{{ error_message }}</span>
  {% endif %}
  <br>
  <label for="designation">Designation:</label>
  <input type="text" id="designation" name="designation" value="{{ staff.designation }}" required><br>
  <label for="department">Department:</label>
  <input type="text" id="department" name="department" value="{{ staff.department }}" required><br>
  <label for="branch_code">Select Branch Code:</label>
  <select id="branch_code" name="branch_code"  required>
    <option value="{{ staff.branch_code }}">--Select Branch code--</option>
    {% for branch in branches %}
    <option value="{{ branch.branch_code }}">{{ branch.branch_code }}</option>
    {% endfor %}
  </select><br><br>
  <label for="contact">Contact:</label>
  <input type="text" id="contact" name="contact" value="{{ staff.contact }}" required><br>
  <label for="qualification">Contact:</label>
  <input type="text" id="qualification" name="qualification" value="{{ staff.qualification }}" required><br>

  <label>Current Image:</label>
  {% if staff.image_url %}
  <img src="{{ staff.image_url }}" alt="staff Image" width="100" height="100">
  {% endif %}

  <label for="image">Change Image:</label>
  <input type="file" id="image" name="image" accept="image/*"><br>
  <button type="submit">Save Changes</button>
</form>
{% endblock %}
